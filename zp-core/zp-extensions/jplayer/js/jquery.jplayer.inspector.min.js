(function(e,t){e.jPlayerInspector={};e.jPlayerInspector.i=0;e.jPlayerInspector.defaults={jPlayer:t,idPrefix:"jplayer_inspector_",visible:false};var n={init:function(t){var n=this;var r=e(this);var i=e.extend({},e.jPlayerInspector.defaults,t);e(this).data("jPlayerInspector",i);i.id=e(this).attr("id");i.jPlayerId=i.jPlayer.attr("id");i.windowId=i.idPrefix+"window_"+e.jPlayerInspector.i;i.statusId=i.idPrefix+"status_"+e.jPlayerInspector.i;i.configId=i.idPrefix+"config_"+e.jPlayerInspector.i;i.toggleId=i.idPrefix+"toggle_"+e.jPlayerInspector.i;i.eventResetId=i.idPrefix+"event_reset_"+e.jPlayerInspector.i;i.updateId=i.idPrefix+"update_"+e.jPlayerInspector.i;i.eventWindowId=i.idPrefix+"event_window_"+e.jPlayerInspector.i;i.eventId={};i.eventJq={};i.eventTimeout={};i.eventOccurrence={};e.each(e.jPlayer.event,function(t,n){i.eventId[n]=i.idPrefix+"event_"+t+"_"+e.jPlayerInspector.i;i.eventOccurrence[n]=0});var s='<p><a href="#" id="'+i.toggleId+'">'+(i.visible?"Hide":"Show")+"</a> jPlayer Inspector</p>"+'<div id="'+i.windowId+'">'+'<div id="'+i.statusId+'"></div>'+'<div id="'+i.eventWindowId+'" style="padding:5px 5px 0 5px;background-color:#eee;border:1px dotted #000;">'+'<p style="margin:0 0 10px 0;"><strong>jPlayer events that have occurred over the past 1 second:</strong>'+'<br />(Backgrounds: <span style="padding:0 5px;background-color:#eee;border:1px dotted #000;">Never occurred</span> <span style="padding:0 5px;background-color:#fff;border:1px dotted #000;">Occurred before</span> <span style="padding:0 5px;background-color:#9f9;border:1px dotted #000;">Occurred</span> <span style="padding:0 5px;background-color:#ff9;border:1px dotted #000;">Multiple occurrences</span> <a href="#" id="'+i.eventResetId+'">reset</a>)</p>';var o="float:left;margin:0 5px 5px 0;padding:0 5px;border:1px dotted #000;";s+='<div id="'+i.eventId[e.jPlayer.event.ready]+'" style="'+o+'"></div>'+'<div id="'+i.eventId[e.jPlayer.event.flashreset]+'" style="'+o+'"></div>'+'<div id="'+i.eventId[e.jPlayer.event.resize]+'" style="'+o+'"></div>'+'<div id="'+i.eventId[e.jPlayer.event.repeat]+'" style="'+o+'"></div>'+'<div id="'+i.eventId[e.jPlayer.event.click]+'" style="'+o+'"></div>'+'<div id="'+i.eventId[e.jPlayer.event.error]+'" style="'+o+'"></div>'+'<div id="'+i.eventId[e.jPlayer.event.warning]+'" style="'+o+'"></div>'+'<div id="'+i.eventId[e.jPlayer.event.loadstart]+'" style="clear:left;'+o+'"></div>'+'<div id="'+i.eventId[e.jPlayer.event.progress]+'" style="'+o+'"></div>'+'<div id="'+i.eventId[e.jPlayer.event.timeupdate]+'" style="'+o+'"></div>'+'<div id="'+i.eventId[e.jPlayer.event.volumechange]+'" style="'+o+'"></div>'+'<div id="'+i.eventId[e.jPlayer.event.play]+'" style="clear:left;'+o+'"></div>'+'<div id="'+i.eventId[e.jPlayer.event.pause]+'" style="'+o+'"></div>'+'<div id="'+i.eventId[e.jPlayer.event.waiting]+'" style="'+o+'"></div>'+'<div id="'+i.eventId[e.jPlayer.event.playing]+'" style="'+o+'"></div>'+'<div id="'+i.eventId[e.jPlayer.event.seeking]+'" style="'+o+'"></div>'+'<div id="'+i.eventId[e.jPlayer.event.seeked]+'" style="'+o+'"></div>'+'<div id="'+i.eventId[e.jPlayer.event.ended]+'" style="'+o+'"></div>'+'<div id="'+i.eventId[e.jPlayer.event.loadeddata]+'" style="clear:left;'+o+'"></div>'+'<div id="'+i.eventId[e.jPlayer.event.loadedmetadata]+'" style="'+o+'"></div>'+'<div id="'+i.eventId[e.jPlayer.event.canplay]+'" style="'+o+'"></div>'+'<div id="'+i.eventId[e.jPlayer.event.canplaythrough]+'" style="'+o+'"></div>'+'<div id="'+i.eventId[e.jPlayer.event.suspend]+'" style="clear:left;'+o+'"></div>'+'<div id="'+i.eventId[e.jPlayer.event.abort]+'" style="'+o+'"></div>'+'<div id="'+i.eventId[e.jPlayer.event.emptied]+'" style="'+o+'"></div>'+'<div id="'+i.eventId[e.jPlayer.event.stalled]+'" style="'+o+'"></div>'+'<div id="'+i.eventId[e.jPlayer.event.ratechange]+'" style="'+o+'"></div>'+'<div id="'+i.eventId[e.jPlayer.event.durationchange]+'" style="'+o+'"></div>'+'<div style="clear:both"></div>';s+="</div>"+'<p><a href="#" id="'+i.updateId+'">Update</a> jPlayer Inspector</p>'+'<div id="'+i.configId+'"></div>'+"</div>";e(this).html(s);i.windowJq=e("#"+i.windowId);i.statusJq=e("#"+i.statusId);i.configJq=e("#"+i.configId);i.toggleJq=e("#"+i.toggleId);i.eventResetJq=e("#"+i.eventResetId);i.updateJq=e("#"+i.updateId);e.each(e.jPlayer.event,function(t,n){i.eventJq[n]=e("#"+i.eventId[n]);i.eventJq[n].text(t+" ("+i.eventOccurrence[n]+")");i.jPlayer.bind(n+".jPlayerInspector",function(e){i.eventOccurrence[e.type]++;if(i.eventOccurrence[e.type]>1){i.eventJq[e.type].css("background-color","#ff9")}else{i.eventJq[e.type].css("background-color","#9f9")}i.eventJq[e.type].text(t+" ("+i.eventOccurrence[e.type]+")");clearTimeout(i.eventTimeout[e.type]);i.eventTimeout[e.type]=setTimeout(function(){i.eventJq[e.type].css("background-color","#fff")},1e3);setTimeout(function(){i.eventOccurrence[e.type]--;i.eventJq[e.type].text(t+" ("+i.eventOccurrence[e.type]+")")},1e3);if(i.visible){r.jPlayerInspector("updateStatus")}})});i.jPlayer.bind(e.jPlayer.event.ready+".jPlayerInspector",function(e){r.jPlayerInspector("updateConfig")});i.toggleJq.click(function(){if(i.visible){e(this).text("Show");i.windowJq.hide();i.statusJq.empty();i.configJq.empty()}else{e(this).text("Hide");i.windowJq.show();i.updateJq.click()}i.visible=!i.visible;e(this).blur();return false});i.eventResetJq.click(function(){e.each(e.jPlayer.event,function(e,t){i.eventJq[t].css("background-color","#eee")});e(this).blur();return false});i.updateJq.click(function(){r.jPlayerInspector("updateStatus");r.jPlayerInspector("updateConfig");return false});if(!i.visible){i.windowJq.hide()}else{}e.jPlayerInspector.i++;return this},destroy:function(){e(this).data("jPlayerInspector")&&e(this).data("jPlayerInspector").jPlayer.unbind(".jPlayerInspector");e(this).empty()},updateConfig:function(){var t="<p>This jPlayer instance is running in your browser where:<br />";for(i=0;i<e(this).data("jPlayerInspector").jPlayer.data("jPlayer").solutions.length;i++){var n=e(this).data("jPlayerInspector").jPlayer.data("jPlayer").solutions[i];t+=" jPlayer's <strong>"+n+"</strong> solution is";if(e(this).data("jPlayerInspector").jPlayer.data("jPlayer")[n].used){t+=" being <strong>used</strong> and will support:<strong>";for(format in e(this).data("jPlayerInspector").jPlayer.data("jPlayer")[n].support){if(e(this).data("jPlayerInspector").jPlayer.data("jPlayer")[n].support[format]){t+=" "+format}}t+="</strong><br />"}else{t+=" <strong>not required</strong><br />"}}t+="</p>";if(e(this).data("jPlayerInspector").jPlayer.data("jPlayer").html.active){if(e(this).data("jPlayerInspector").jPlayer.data("jPlayer").flash.active){t+="<strong>Problem with jPlayer since both HTML5 and Flash are active.</strong>"}else{t+="The <strong>HTML5 is active</strong>."}}else{if(e(this).data("jPlayerInspector").jPlayer.data("jPlayer").flash.active){t+="The <strong>Flash is active</strong>."}else{t+="No solution is currently active. jPlayer needs a setMedia()."}}t+="</p>";var r=e(this).data("jPlayerInspector").jPlayer.data("jPlayer").status.formatType;t+="<p><code>status.formatType = '"+r+"'</code><br />";if(r){t+="<code>Browser canPlay('"+e.jPlayer.prototype.format[r].codec+"')</code>"}else{t+="</p>"}t+="<p><code>status.src = '"+e(this).data("jPlayerInspector").jPlayer.data("jPlayer").status.src+"'</code></p>";t+="<p><code>status.media = {<br />";for(prop in e(this).data("jPlayerInspector").jPlayer.data("jPlayer").status.media){t+=" "+prop+": "+e(this).data("jPlayerInspector").jPlayer.data("jPlayer").status.media[prop]+"<br />"}t+="};</code></p>";t+="<p>";t+="<code>status.videoWidth = '"+e(this).data("jPlayerInspector").jPlayer.data("jPlayer").status.videoWidth+"'</code>";t+=" | <code>status.videoHeight = '"+e(this).data("jPlayerInspector").jPlayer.data("jPlayer").status.videoHeight+"'</code>";t+="<br /><code>status.width = '"+e(this).data("jPlayerInspector").jPlayer.data("jPlayer").status.width+"'</code>";t+=" | <code>status.height = '"+e(this).data("jPlayerInspector").jPlayer.data("jPlayer").status.height+"'</code>";t+="</p>";+"<p>Raw browser test for HTML5 support. Should equal a function if HTML5 is available.<br />";if(e(this).data("jPlayerInspector").jPlayer.data("jPlayer").html.audio.available){t+="<code>htmlElement.audio.canPlayType = "+typeof e(this).data("jPlayerInspector").jPlayer.data("jPlayer").htmlElement.audio.canPlayType+"</code><br />"}if(e(this).data("jPlayerInspector").jPlayer.data("jPlayer").html.video.available){t+="<code>htmlElement.video.canPlayType = "+typeof e(this).data("jPlayerInspector").jPlayer.data("jPlayer").htmlElement.video.canPlayType+"</code>"}t+="</p>";t+="<p>This instance is using the constructor options:<br />"+"<code>$('#"+e(this).data("jPlayerInspector").jPlayer.data("jPlayer").internal.self.id+"').jPlayer({<br />"+" swfPath: '"+e(this).data("jPlayerInspector").jPlayer.jPlayer("option","swfPath")+"',<br />"+" solution: '"+e(this).data("jPlayerInspector").jPlayer.jPlayer("option","solution")+"',<br />"+" supplied: '"+e(this).data("jPlayerInspector").jPlayer.jPlayer("option","supplied")+"',<br />"+" preload: '"+e(this).data("jPlayerInspector").jPlayer.jPlayer("option","preload")+"',<br />"+" volume: "+e(this).data("jPlayerInspector").jPlayer.jPlayer("option","volume")+",<br />"+" muted: "+e(this).data("jPlayerInspector").jPlayer.jPlayer("option","muted")+",<br />"+" backgroundColor: '"+e(this).data("jPlayerInspector").jPlayer.jPlayer("option","backgroundColor")+"',<br />"+" cssSelectorAncestor: '"+e(this).data("jPlayerInspector").jPlayer.jPlayer("option","cssSelectorAncestor")+"',<br />"+" cssSelector: {";var s=e(this).data("jPlayerInspector").jPlayer.jPlayer("option","cssSelector");for(prop in s){t+="<br />  "+prop+": '"+e(this).data("jPlayerInspector").jPlayer.jPlayer("option","cssSelector."+prop)+"',"}t=t.slice(0,-1);t+="<br /> },<br />"+" errorAlerts: "+e(this).data("jPlayerInspector").jPlayer.jPlayer("option","errorAlerts")+",<br />"+" warningAlerts: "+e(this).data("jPlayerInspector").jPlayer.jPlayer("option","warningAlerts")+"<br />"+"});</code></p>";e(this).data("jPlayerInspector").configJq.html(t);return this},updateStatus:function(){e(this).data("jPlayerInspector").statusJq.html("<p>jPlayer is "+(e(this).data("jPlayerInspector").jPlayer.data("jPlayer").status.paused?"paused":"playing")+" at time: "+Math.floor(e(this).data("jPlayerInspector").jPlayer.data("jPlayer").status.currentTime*10)/10+"s."+" (d: "+Math.floor(e(this).data("jPlayerInspector").jPlayer.data("jPlayer").status.duration*10)/10+"s"+", sp: "+Math.floor(e(this).data("jPlayerInspector").jPlayer.data("jPlayer").status.seekPercent)+"%"+", cpr: "+Math.floor(e(this).data("jPlayerInspector").jPlayer.data("jPlayer").status.currentPercentRelative)+"%"+", cpa: "+Math.floor(e(this).data("jPlayerInspector").jPlayer.data("jPlayer").status.currentPercentAbsolute)+"%)</p>");return this}};e.fn.jPlayerInspector=function(t){if(n[t]){return n[t].apply(this,Array.prototype.slice.call(arguments,1))}else if(typeof t==="object"||!t){return n.init.apply(this,arguments)}else{e.error("Method "+t+" does not exist on jQuery.jPlayerInspector")}}})(jQuery)